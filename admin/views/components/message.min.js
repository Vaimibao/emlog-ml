!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e(t)}):t.Qmsg=e(t)}(this,function(t){function c(){for(var t=l,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function a(t){var e=this,n=(e.settings=Object.assign({},m,t||{}),e.id=h.instanceCount,t=(t=e.settings.timeout)&&0<=parseInt(t)?parseInt(t):m.timeout,e.timeout=t,e.settings.timeout=t,e.timer=null,t=document.createElement("div"),d[e.settings.type||"info"]),i=c("content-"+e.settings.type||"info"),s=(i+=e.settings.showClose?" "+c("content-with-close"):"",e.settings.content||""),o=d.close,o=e.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+o+"</i>":"",a=document.createElement("span");e.settings.html?a.innerHTML=s:a.innerText=s,t.innerHTML='<div class="qmsg-content">            <div class="'+i+'">                <i class="qmsg-icon">'+n+"</i>"+a.outerHTML+o+"</div>\t\t</div>",t.classList.add(c("item")),t.style.textAlign=e.settings.position,(n=document.querySelector("."+l))||((n=document.createElement("div")).classList.add(l),n.classList.add(c("wrapper")),n.classList.add(c("is-initialized")),document.body.appendChild(n)),n.appendChild(t),e.$wrapper=n,e.$elem=t,r(e,"opening"),e.settings.showClose&&t.querySelector(".qmsg-icon-close").addEventListener("click",function(){e.close()}.bind(t)),t.addEventListener("animationend",function(t){var e=t.target;t.animationName===u.closing&&(clearInterval(this.timer),this.destroy()),e.style.animationName=""}.bind(e)),e.settings.autoClose&&(e.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(e),10),e.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(e)),e.$elem.addEventListener("mouseout",function(){"closing"!==this.state&&(this.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(e),10))}.bind(e)))}function r(t,e){e&&u[e]&&(t.state=e,t.$elem.style.animationName=u[e])}function n(t,e){var n=Object.assign({},m);return 0===arguments.length?n:t instanceof Object?Object.assign(n,t):(n.content=t.toString(),e instanceof Object?Object.assign(n,e):n)}function i(t){t=t||{};var e=JSON.stringify(t),n=-1;for(o in this.oMsgs){var i=this.oMsgs[o];if(i.config===e){var n=o,s=i.inst;break}}if(n<0){if(this.instanceCount++,(n={}).id=this.instanceCount,n.config=e,(s=new a(t)).id=this.instanceCount,s.count="",n.inst=s,this.oMsgs[this.instanceCount]=n,t=this.oMsgs.length,(e=this.maxNums)<t){n=0;for(var o=this.oMsgs;n<t-e;n++)o[n]&&o[n].inst.settings.autoClose&&o[n].inst.close()}}else s.count=s.count?99<=s.count?s.count:s.count+1:2,t=s,e=c("count"),(o=(n=t.$elem.querySelector('[class^="qmsg-content-"]')).querySelector("."+e))||((o=document.createElement("span")).classList.add(e),n.appendChild(o)),o.innerHTML=t.count,o.style.animationName="",o.style.animationName="MessageShake",t.timeout=t.settings.timeout||m.timeout;return s.$elem.setAttribute("data-count",s.count),s}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}),"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(i){return function(t){var e=s.className.split(/\s+/g),n=e.indexOf(t);i(e,n,t),s.className=e.join(" ")}}var s=this;return{add:t(function(t,e,n){~e||t.push(n)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~s.className.split(/\s+/g).indexOf(t)},item:function(t){return s.className.split(/\s+/g)[t]||null}}}});var l=t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.NAMESPACE||"qmsg",u={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},m=Object.assign({position:"center",type:"info",showClose:!1,timeout:2500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.DEFAULTS),d={info:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#fff"/></svg>',warning:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#fff"/></svg>',error:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#fff"/></svg>',success:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#fff"/></svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/><path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},e=void 0!==(t=document.createElement("div").style).animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName,h=(a.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem),clearInterval(this.timer),h.remove(this.id)},a.prototype.close=function(){r(this,"closing"),e?h.remove(this.id):this.destroy();var t=this.settings.onClose;t&&t instanceof Function&&t.call(this)},{version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:m.maxNums||5,config:function(t){m=t&&t instanceof Object?Object.assign(m,t):m,this.maxNums=m.maxNums&&0<m.maxNums?parseInt(m.maxNums):3},info:function(t,e){return(t=n(t,e)).type="info",i.call(this,t)},warning:function(t,e){return(t=n(t,e)).type="warning",i.call(this,t)},success:function(t,e){return(t=n(t,e)).type="success",i.call(this,t)},error:function(t,e){return(t=n(t,e)).type="error",i.call(this,t)},loading:function(t,e){return(t=n(t,e)).type="loading",t.autoClose=!1,i.call(this,t)},remove:function(t){this.oMsgs[t]&&delete this.oMsgs[t]},closeAll:function(){for(var t in this.oMsgs)this.oMsgs[t]&&this.oMsgs[t].inst.close()}});return h});